<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>探索PVE刀客 </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="探索PVE刀客 ">
      
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      
      
      
      <meta name="docfx:docurl" content="https://github.com/zztss/MyDoc/blob/main/qnm/docfx_project/articles/探索PVE刀客.md/#L1">
  </head>

  <script type="module">
    import options from './../public/main.js'
    import { init } from './../public/docfx.min.js'
    init(options)
  </script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="探索pve刀客">探索PVE刀客</h1>

<p>作者：[德库拉]</p>
<h2 id="前言">前言</h2>
<p>刀客作为近身刺客职业，拥有着高爆发输出，同时还具备减伤，控制，位移，破防，回血能力，在PVE的玩法中可称得上<code>综合实力</code>最强的职业了</p>
<p><img src="images/tspvedk/dk2.jpg" alt="Dk2"></p>
<h2 id="核心技能">核心技能</h2>
<p>刀客核心输出技能有4个，以下是打家园绝难度<code>巫先生</code>时各技能的伤害占比</p>
<table>
<thead>
<tr>
<th>技能名称</th>
<th style="text-align: right;">总命中率</th>
<th style="text-align: right;">总致命率</th>
<th style="text-align: right;">伤害</th>
<th style="text-align: right;">伤害占比</th>
</tr>
</thead>
<tbody>
<tr>
<td>狡兔三窟</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;">4491611</td>
<td style="text-align: right;">33.8%</td>
</tr>
<tr>
<td>蛇毒攻心</td>
<td style="text-align: right;">100%</td>
<td style="text-align: right;">66.7%</td>
<td style="text-align: right;">3118672</td>
<td style="text-align: right;">23.4%</td>
</tr>
<tr>
<td>芒刺在背</td>
<td style="text-align: right;">100%</td>
<td style="text-align: right;">42.9%</td>
<td style="text-align: right;">2936823</td>
<td style="text-align: right;">22.1%</td>
</tr>
<tr>
<td>血蛭陷阱</td>
<td style="text-align: right;">100%</td>
<td style="text-align: right;">42.9%</td>
<td style="text-align: right;">2737398</td>
<td style="text-align: right;">20.6%</td>
</tr>
<tr>
<td>其它</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;">12806</td>
<td style="text-align: right;">0.1%</td>
</tr>
</tbody>
</table>
<ul>
<li>狡兔三窟</li>
</ul>
<p><img src="images/tspvedk/jtsk.png" alt="Jtsk"></p>
<p>分身继承部分人物属性,同时享受野狼铠效果。分身拥有普通攻击、蛇毒攻心、芒刺在背三项技能。每提升1级技能,可增加0.5%人物属性。分身与人物实时同步属性,利用这一特性,<strong>可以使用技能项链卡分身等级</strong>。</p>
<ul>
<li>蛇毒攻心</li>
</ul>
<p><img src="images/tspvedk/sdgx.png" alt="Sdgx"></p>
<p>蛇毒攻心有2个效果</p>
<ol>
<li>直接造成毒伤害</li>
<li>附加心魔效果</li>
</ol>
<p>实际中蛇毒攻心的伤害还会加上<code>瞬时攻击</code>,它最终的伤害如下</p>
<pre><code>蛇毒攻心伤害= 毒伤害+瞬时物理攻击+心魔加成
</code></pre>
<p>心魔状态有3层，重点关注第三层<code>百毒穿心</code> ，该状态是集体共享且高等级覆盖低等级，<strong>在团本中可以优先考虑此技能</strong></p>
<p><img src="images/tspvedk/bdcx.png" alt="Bdcx"></p>
<p>心魔状态的最终物理伤害受平均物攻影响，数值为<code>4%</code></p>
<pre><code>心魔状态最终物理伤害=技能描述部分+人物平均攻击4%
</code></pre>
<div class="TIP">
<h5>Tip</h5>
<p>注意：心魔伤害不受目标<code>减伤</code>和<code>防御</code>影响，只受<code>最终物理伤害减XX</code>的词条影响</p>
</div>
<ul>
<li>芒刺在背</li>
</ul>
<p><img src="images/tspvedk/mcjj.png" alt="Mcjj"></p>
<p><strong>当目标为怪物时,自身攻击力增加35%,同时造成2.47倍的伤害</strong></p>
<p>根据这句话我们得到芒刺在背的伤害公式</p>
<pre><code>芒刺伤害公式=瞬时攻击 * 1.35 * 2.47 * (1 + BOSS伤害百分比) * (1 + 物理致命伤%)
</code></pre>
<p>以我的角色为例，物理攻击 <code>28989-54008</code>,物理致命伤害<code>125%</code>,BOSS伤害百分比<code>4%</code>，那么瞬时攻击就是从这大小攻击区间随机取一个值，假设是40000，带入计算如下</p>
<pre><code>40000 * 1.35 * 2.47 * (1 + 0.04) * (1 + 1.25) = 312109
</code></pre>
<p><code>芒刺在背</code>的提升巨大，PVE刀客<strong>可优先考虑此技能</strong></p>
<p>60级天赋技能<code>芒刺入骨</code>可以带出<code>血蛭陷阱</code>，打怪时优先带此天赋</p>
<ul>
<li>困兽一博</li>
</ul>
<p><img src="images/tspvedk/ksyb.png" alt="Ksyb"></p>
<p>可以看出困兽一博有2个效果</p>
<ol>
<li>攻击增加</li>
<li>气血越低增加的攻击越高</li>
</ol>
<div class="TIP">
<h5>Tip</h5>
<p>注意：困兽一搏的攻击增加不是面板的攻击，而是基础攻击的33.5%，想知道自己的基础攻击，可以从人物面板-&gt;物理攻击-&gt;属性构成-&gt;最大物理攻击-&gt;基础加成 中查看数值</p>
</div>
<p>困兽一搏还有一个100级技能天赋<code>破釜沉舟</code>可以增强，40级的效果如下：</p>
<p><img src="images/tspvedk/pfcz.png" alt="Pfcz"></p>
<ul>
<li>血蛭陷阱</li>
</ul>
<p><img src="images/tspvedk/xzxj.png" alt="Xzxj"></p>
<p>血蛭在团本中只有最高技能等级的刀客可以吃到伤害，因此<strong>在团本中不用刻意追高该技能，因为其他刀客触发的高等级心魔可以共享全体成员</strong>
。该技能仅从描述上看，伤害并不高，但它还受<code>噬血沁骨</code>的增强，加上它是多段攻击，所以在长时间的副本中，伤害甚至能超过<code>芒刺在背</code></p>
<div class="TIP">
<h5>Tip</h5>
<p>血蛭陷阱的技能系数是0.65，噬血沁骨是0.5</p>
</div>
<h2 id="装备搭配">装备搭配</h2>
<p>PVE玩法对属性要求相对少一些，刀客主要堆<code>攻击</code>、<code>致命</code>，考虑不同装评档次的玩家打造程度不同，以下给出一些搭配核心部位建议作为参考</p>
<ol>
<li>30万装评以下</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align: right;">部位</th>
<th style="text-align: left;">推荐词条</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: right;">武器</td>
<td style="text-align: left;">137或150双手7绝，再抽一把<code>低等级</code>攻速单手召唤分身用</td>
</tr>
<tr>
<td style="text-align: right;">帽子</td>
<td style="text-align: left;">双力量</td>
</tr>
<tr>
<td style="text-align: right;">项链</td>
<td style="text-align: left;">双物理致命137鬼</td>
</tr>
<tr>
<td style="text-align: right;">手镯</td>
<td style="text-align: left;">双物理致命137鬼</td>
</tr>
<tr>
<td style="text-align: right;">戒指</td>
<td style="text-align: left;">双物理致命137鬼</td>
</tr>
<tr>
<td style="text-align: right;">项链</td>
<td style="text-align: left;">双物理致命137鬼</td>
</tr>
<tr>
<td style="text-align: right;">暗器</td>
<td style="text-align: left;">红或者紫洗一条致命</td>
</tr>
</tbody>
</table>
<p>这个组合一般可以达到<code>40000</code>以上攻击，搭配天赋可以致命伤<code>100%</code>以上</p>
<ol start="2">
<li>30-40万装评</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align: right;">部位</th>
<th style="text-align: left;">推荐词条</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: right;">武器</td>
<td style="text-align: left;">137或150双手洗双最大或者无钻，再抽一把<code>低等级</code>攻速单手召唤分身用</td>
</tr>
<tr>
<td style="text-align: right;">帽子</td>
<td style="text-align: left;">双力量</td>
</tr>
<tr>
<td style="text-align: right;">项链</td>
<td style="text-align: left;">137三物理致命鬼</td>
</tr>
<tr>
<td style="text-align: right;">手镯</td>
<td style="text-align: left;">137三物理致命鬼</td>
</tr>
<tr>
<td style="text-align: right;">戒指</td>
<td style="text-align: left;">137三物理致命鬼</td>
</tr>
<tr>
<td style="text-align: right;">项链</td>
<td style="text-align: left;">137三物理致命鬼</td>
</tr>
<tr>
<td style="text-align: right;">暗器</td>
<td style="text-align: left;">3致命红或者紫</td>
</tr>
</tbody>
</table>
<p>这个组合一般可以达到<code>45000</code>以上攻击，搭配天赋可以致命伤125%以上,伤害已经崭露头角</p>
<ol start="3">
<li>40万以上装评</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align: right;">部位</th>
<th style="text-align: left;">推荐词条</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: right;">武器</td>
<td style="text-align: left;">137或者150单手攻击核武或3攻速核武</td>
</tr>
<tr>
<td style="text-align: right;">帽子</td>
<td style="text-align: left;">三力量或以上</td>
</tr>
<tr>
<td style="text-align: right;">项链</td>
<td style="text-align: left;">137三物理致命鬼</td>
</tr>
<tr>
<td style="text-align: right;">手镯</td>
<td style="text-align: left;">137三物理致命鬼</td>
</tr>
<tr>
<td style="text-align: right;">戒指</td>
<td style="text-align: left;">137三物理致命鬼</td>
</tr>
<tr>
<td style="text-align: right;">项链</td>
<td style="text-align: left;">137三物理致命鬼</td>
</tr>
<tr>
<td style="text-align: right;">暗器</td>
<td style="text-align: left;">固定双致命紫或普鬼再洗一条致命</td>
</tr>
</tbody>
</table>
<h3 id="项链选择">项链选择</h3>
<p>在致命伤没有达到125%时，优先选择多致命项链，已达到125%，按照以下选择</p>
<p><code>芒刺在背</code>&gt;<code>血蛭陷阱</code>&gt;<code>百毒穿心</code>&gt;<code>困兽一博</code></p>
<p>考虑不容易洗出双6技能，最优解还是</p>
<p>固定 <code>全技能+3</code>+致命</p>
<p>这个组合一般可以达到<code>40000</code>以上攻击，搭配天赋可以致命伤125%以上，攻速在<code>1.43</code>以上，因为使用了单手武器，所以不仅PVE伤害高，也可以兼顾一些PVP</p>
<div class="TIP">
<h5>Tip</h5>
<p>除此之外，其他部位尽可能可以拉高 <code>气血</code>，<code>防御</code>，有条件可以兼顾下<code>命中</code>,因为本篇核心是PVE伤害，所以不做特别说明</p>
</div>
<h2 id="技能搭配">技能搭配</h2>
<ul>
<li>技能</li>
</ul>
<p><img src="images/tspvedk/jn1.png" alt="Jn1"></p>
<ul>
<li>天赋技能</li>
</ul>
<p>普通玩家</p>
<p><img src="images/tspvedk/tf1.png" alt="Tf1"></p>
<p>高致命玩家（无<code>抽刀断恨</code>情况下，能达到125%物理致命伤）</p>
<p><img src="images/tspvedk/tf2.png" alt="Tf2"></p>
<p>武器有<code>芒刺入骨</code> 普通玩家</p>
<p><img src="images/tspvedk/tf3.png" alt="Tf3"></p>
<p>武器有<code>芒刺入骨</code> 高致命玩家（无<code>抽刀断恨</code>情况下，能达到125%物理致命伤）</p>
<p><img src="images/tspvedk/tf4.png" alt="Tf4"></p>
<h2 id="进阶提升">进阶提升</h2>
<ul>
<li>武器神兵重铸出<code>芒刺入骨</code>可以让刀客在打出极致伤害下且最大程度回血</li>
</ul>
<p><img src="images/tspvedk/mcrg.png" alt="Mcrg"></p>
<p>回血原理</p>
<ol>
<li><code>芒刺在背</code> 触发 <code>芒刺入骨</code></li>
<li><code>芒刺入骨</code> 触发 <code>血蛭陷阱</code></li>
<li><code>血蛭陷阱</code> 触发 <code>噬血沁骨</code> 流血</li>
<li>流血 触发 <code>血饮狂歌</code> 进入可回血状态</li>
<li>任意非持续性技能触发<code>11%</code>回血</li>
</ol>
<p><img src="images/tspvedk/cfhx.jpg" alt="Cfhx"></p>
<p>在芒刺打出致命的情况下，回血量是相当可观</p>
<ul>
<li>卡攻速</li>
</ul>
<p>刀客在PVE情况下，一般轮按这一套技能 <code>蛇毒攻心</code>,<code>芒刺在背</code>，<code>困兽一搏</code>,频率最高的是蛇毒攻心，它的冷却时间是0.7秒，
核心技能是<code>芒刺在背</code>，在理想情况下，它的冷却时间一结束，应该迅速释放。</p>
<p><code>困兽一搏</code>=&gt;<code>芒刺在背</code>=&gt;<code>蛇毒攻心</code>=&gt;<code>蛇毒攻心</code>=&gt;<code>蛇毒攻心</code>=&gt;<code>蛇毒攻心</code>=&gt;<code>蛇毒攻心</code>=&gt;<code>芒刺在背</code></p>
<p>想要让<code>芒刺在背</code>及时释放，那它的冷却时间最好卡在0.7的倍数上，再一些点缓冲操作的延迟，例如 2.8，3.5，4.2，<code>芒刺在背</code>的原始冷却是6秒，相关冷却时间和攻速关系如下：</p>
<table>
<thead>
<tr>
<th style="text-align: right;">冷却时间（秒）</th>
<th style="text-align: right;">攻速</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: right;">2.8</td>
<td style="text-align: right;">2.15</td>
</tr>
<tr>
<td style="text-align: right;">3.5</td>
<td style="text-align: right;">1.72</td>
</tr>
<tr>
<td style="text-align: right;">4.2</td>
<td style="text-align: right;">1.43</td>
</tr>
</tbody>
</table>
<p>此外攻速还可以减少分身及困兽一搏的冷却时间，这2个都可以大幅提高刀客的副本输出能力</p>
<ul>
<li>鉴定技能</li>
</ul>
<p><img src="images/tspvedk/pzs.png" alt="Pzs"></p>
<p>所有破防类的技能都可以叠加，鉴定出<code>破执术</code> 对一些防御高的怪物可以打出更高伤害，刀客攻速快，触发频率也会更高一些，且鉴定该技能难度并不大。</p>
<ul>
<li>法宝</li>
</ul>
<p><img src="images/tspvedk/fb.png" alt="Fb"></p>
<p>虽然单条<code>无霸</code>词条只有<code>0.5%</code>的伤害加成，但如果每个位置都洗出来，总计加成就是<code>4%</code>。这对BOSS的伤害提升相当可观，因为这种加成是在最后计算的。如果之前的伤害倍率已经很高，那么这个加成也会显得更为明显。</p>
<h2 id="队伍配合">队伍配合</h2>
<p>来自<code>若有云兮</code>的<strong>StandBy剑圣</strong>是个打妖经验非常丰富的玩家，江湖尊称：<em>14境伏妖天师</em>，他的建议如下：</p>
<p>建议组建以物理输出为主的阵容，包括<code>人物</code>、<code>灵兽</code>以及<code>召唤物</code></p>
<p><img src="images/tspvedk/jxnyd.png" alt="Jxnyd"></p>
<p><strong>甲奶侠稳固防线，异人破防增伤，刀客破防和心魔引爆输出</strong></p>
<p>在理想情况下，每个角色都携带1只物理谨慎灵兽，异人召唤4只物理宝宝，刀客召唤3个物理分身，则同一时刻就有<code>15</code>个物理输出单位,每秒可以提供<code>90000</code>的稳定伤害，参考底部表格，相当于为蜃妖副本下降了<code>三分之一</code>难度，而这仅仅只是心魔部分伤害。</p>
<p><img src="images/tspvedk/tyskxm.png" alt="Tyskxm"></p>
<table>
<thead>
<tr>
<th>蜃妖</th>
<th style="text-align: right;">十四阶气血值/万</th>
<th style="text-align: right;">击杀最低秒伤/万</th>
<th style="text-align: right;">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>英招</td>
<td style="text-align: right;">7750</td>
<td style="text-align: right;">25.83</td>
<td style="text-align: right;"></td>
</tr>
<tr>
<td>罗刹</td>
<td style="text-align: right;">9000</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">2只</td>
</tr>
<tr>
<td>镇狱王</td>
<td style="text-align: right;">8800</td>
<td style="text-align: right;">29.33</td>
<td style="text-align: right;">2只</td>
</tr>
<tr>
<td>狻猊</td>
<td style="text-align: right;">5100</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">不含召唤小怪</td>
</tr>
<tr>
<td>梦魇</td>
<td style="text-align: right;">5500</td>
<td style="text-align: right;">18.33</td>
<td style="text-align: right;"></td>
</tr>
<tr>
<td>剑邪</td>
<td style="text-align: right;">10000</td>
<td style="text-align: right;">33.33</td>
<td style="text-align: right;"></td>
</tr>
<tr>
<td>花妖</td>
<td style="text-align: right;">9000</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">5只，不含召唤小怪</td>
</tr>
<tr>
<td>熔岩巨灵</td>
<td style="text-align: right;">8500</td>
<td style="text-align: right;">28.33</td>
<td style="text-align: right;">2只</td>
</tr>
<tr>
<td>书卿</td>
<td style="text-align: right;">10000</td>
<td style="text-align: right;">33.33</td>
<td style="text-align: right;">5只</td>
</tr>
<tr>
<td>地三鲜</td>
<td style="text-align: right;">9500</td>
<td style="text-align: right;">31.66</td>
<td style="text-align: right;">3只，不含召唤小怪</td>
</tr>
</tbody>
</table>
<p>一些14级蜃妖防御属性相当高，常令许多中低下玩家束手无策，根本破不了防，伤害也无法发挥出来。而这个组合在极致情况下可以破<code>70%</code>防御，难度大大降低，很好解决了这个痛点。</p>
<p><img src="images/tspvedk/sypftl.jpg" alt="Sypftl"></p>
<h2 id="单双手之争">单双手之争</h2>
<p><img src="images/tspvedk/dsszz.png" alt="Dsszz"></p>
<p>使用双手武器的角色通常攻速较慢但攻击力较高，而使用单手武器的角色攻速较快但攻击力较低。那么，在打副本时选择哪种更强呢？</p>
<p>在实际战斗中，由于技能数量多且伤害会叠加，我们无法仅通过单一技能伤害进行直接比较。在之前的章节中，我们已经推导出了<code>芒刺在背</code>和<code>蛇毒攻心</code>的伤害计算公式。接下来，我们可以用代码来模拟释放技能的过程，以便更好地观察两者的表现。</p>
<p>需要模拟的技能有</p>
<ol>
<li>困兽一搏（10秒有效,攻击增加基础攻击的48.5%且对怪物增伤21%,(单)冷却时间=25/攻速,(双)冷却时间=25*0.75/攻速）</li>
<li>芒刺在背（上面章节公式计算，这里需要考虑的是实战加入心魔伤害）</li>
<li>血蛭陷阱（多段伤害不好计算，经验我号粗略统计是芒刺的<code>0.93</code>倍）</li>
<li>蛇毒攻心（实际数据直接用第三形态百毒穿心来计算，实战中基本是用这个）</li>
<li>狡兔三窟（分身多段攻击不好总结，经验我号分身的伤害是<code>分身时间段内</code>芒刺的1.52倍，就是说分身开启直到结束这段时间芒刺的伤害*1.52就是分身的总伤害）</li>
</ol>
<p>思路清晰了，核心代码实现如下</p>
<pre><code class="lang-C#"> while (currentTime &lt; totalDuration)
    {
        if (currentTime &gt;= skill4Cooldown)
        {
            hasFs = true;
            currentTime += 0.7m; // 吟唱时间
            skill4Cooldown = currentTime + decimal.Round(210.0m / gs, 1); // 冷却时间
            skill4EffectEnd = currentTime + 70.0m; // 状态持续时间
        }
        else if (currentTime &gt;= skill1Cooldown)
        {
            dk.SetKunShouTrue();
            currentTime += 0.7m; // 吟唱时间
            skill1Cooldown = currentTime + decimal.Round(25 / gs, 1); // 冷却时间
            skill1EffectEnd = currentTime + 10.0m; // 状态持续时间
        }
        else if (currentTime &gt;= skill2Cooldown)
        {
            var mc = dk.ManCiZaiBei();
            if (hasFs)
            {
                someMcShangHai += mc;
            }
            totalMcShangHai += mc;
            totalShangHai += mc;
            currentTime += 0.7m; // 吟唱时间
            skill2Cooldown = currentTime + decimal.Round(6 / gs, 1) - 0.7m; // 冷却时间
        }
        else if (currentTime &gt;= skill3Cooldown)
        {
            var sd = dk.SheDuGongXin();
            totalShangHai += sd;
            totalSdShangHai += sd;
            currentTime += 0.7m; // 吟唱时间
            skill3Cooldown = currentTime + 0; // 冷却时间
        }
        else
        {
            // 如果所有技能都在冷却中，推进时间到下一个可用技能
            decimal nextEvent = Math.Min(skill4Cooldown, Math.Min(skill1Cooldown, Math.Min(skill2Cooldown, skill3Cooldown)));
            currentTime = nextEvent;
        }

        // 检查技能1的状态是否结束
        if (currentTime &gt;= skill1EffectEnd &amp;&amp; skill1EffectEnd &gt; 0)
        {
            dk.SetKunShouFalse();
            skill1EffectEnd = 0; // 重置状态结束时间
        }

        // 检查技能4的状态是否结束
        if (currentTime &gt;= skill4EffectEnd &amp;&amp; skill4EffectEnd &gt; 0)
        {
            hasFs = false;
            totalShangHai += someMcShangHai * 1.52m;
            totalFsShangHai += someMcShangHai * 1.52m;
            someMcShangHai = 0.0m;//重新计算
            skill4EffectEnd = 0; // 重置状态结束时间
        }
    }
    var tmc = totalMcShangHai * 0.93m;
    totalShangHai += tmc;
    totalXzShangHai = tmc;
</code></pre>
<p>接着打印出来看看技能释放的优先级，频率、大致伤害是否正确</p>
<pre><code>0.0s: 使用技能4 - 狡兔三窟
0.7s: 使用技能1 - 困兽一搏
1.4s: 使用技能2 - 芒刺在背
2.1s: 使用技能3 - 蛇毒攻心
2.8s: 使用技能3 - 蛇毒攻心
3.5s: 使用技能3 - 蛇毒攻心
4.2s: 使用技能2 - 芒刺在背
4.9s: 使用技能3 - 蛇毒攻心
5.6s: 使用技能3 - 蛇毒攻心
6.3s: 使用技能3 - 蛇毒攻心
7.0s: 使用技能2 - 芒刺在背
7.7s: 使用技能3 - 蛇毒攻心
8.4s: 使用技能3 - 蛇毒攻心
9.1s: 使用技能3 - 蛇毒攻心
9.8s: 使用技能2 - 芒刺在背
10.5s: 使用技能3 - 蛇毒攻心
11.2s: 使用技能3 - 蛇毒攻心
11.4s: 困兽一搏的状态结束
11.9s: 使用技能3 - 蛇毒攻心
12.6s: 使用技能1 - 困兽一搏
13.3s: 使用技能2 - 芒刺在背
14.0s: 使用技能3 - 蛇毒攻心
14.7s: 使用技能3 - 蛇毒攻心
.......省略中间
292.6s: 使用技能2 - 芒刺在背
293.3s: 使用技能3 - 蛇毒攻心
294.0s: 使用技能3 - 蛇毒攻心
294.7s: 使用技能3 - 蛇毒攻心
295.4s: 使用技能2 - 芒刺在背
296.1s: 使用技能3 - 蛇毒攻心
296.8s: 使用技能3 - 蛇毒攻心
297.0s: 困兽一搏的状态结束
297.5s: 使用技能3 - 蛇毒攻心
298.2s: 使用技能1 - 困兽一搏
298.9s: 使用技能2 - 芒刺在背
299.6s: 使用技能3 - 蛇毒攻心
总分身伤害:46355174
总蛇毒攻心伤害:33111938
总芒刺伤害:42651850.
总血蛭伤害:39666221
总伤害:161785185
</code></pre>
<p>通过观察，技能的优先级和频率都正确，伤害值也基本符合预期。这样一来，技能伤害的可靠性得以保证。我们只需将这些技能的伤害进行累积计算，就能得到总伤害。为了避免单次结果的偏差，由于代码中加入了致命伤害，我们需要将每个数据循环10遍，并取其平均值，以进一步提高后续图表数据的稳定性和可靠性。</p>
<pre><code class="lang-C#"> for (decimal i = 1; i &lt;= 2.5m; i += 0.1m)
{
    decimal s = 0.0m;

    for (decimal j = 0; j &lt; 10; j++)
    {
        var sm = GetShangHai(29000, 54000, i);
        s += sm;
    }
    Console.WriteLine($&quot;攻速:{i} 伤害：{s / 10.0m}&quot;);
}
</code></pre>
<ul>
<li>变化的攻速</li>
</ul>
<p>完成模拟逻辑后，我们将攻击力和攻速应用于一个时长<code>5</code>分钟的副本模拟，怪物这里假设<code>0</code>防御，以我的角色为例全技能<code>47</code>级。角色的攻击力范围在<code>29000</code>到<code>54000</code>之间。为了降低细节影响，我们假设物理致命伤已提升至<code>125%</code>，且致命一击的伤害达到了<code>230</code>以上（具有50%的致命率）。接下来，我们将首先观察攻速变化对伤害的影响。</p>
<p><img src="images/tspvedk/gsshzx.png" alt="Gsshzx"></p>
<p>根据上述折线图，我们可以观察到攻速与伤害之间基本呈现线性正比关系。此外，在攻速为<code>1.43</code>、<code>1.72</code>和<code>2.15</code>时，伤害有明显的提升，这与前面章节的内容相呼应。</p>
<ul>
<li>变化的攻击</li>
</ul>
<p><code>1.43</code>攻速每提升500平均攻击的伤害变化图表</p>
<p><img src="images/tspvedk/143gspjgjysh.png" alt="143Gspjgjysh"></p>
<p><code>1.96</code>攻速每提升500平均攻击的伤害变化图表</p>
<p><img src="images/tspvedk/196gspjgjysh.png" alt="196Gspjgjysh"></p>
<p>可以看出，对于刀客而言，虽然提升攻击力能够增加伤害，但其效果远不及攻速的提升。</p>
<p>以我的角色为参考，攻速提升至<code>2.1</code>，相当于在<code>1.43</code>的攻速下增加了<code>1万</code>的平均攻击力。我们平时使用双手武器时，也很难达到<code>1.43</code>的攻速，所以加成不多，好在双手武器可以用单手攻速武器卡分身时间。</p>
<table>
<thead>
<tr>
<th style="text-align: right;">攻击速度</th>
<th style="text-align: right;">平均攻击</th>
<th style="text-align: right;">伤害</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">41500.00</td>
<td style="text-align: right;">91388780.60</td>
</tr>
<tr>
<td style="text-align: right;">1.1</td>
<td style="text-align: right;">41500.00</td>
<td style="text-align: right;">96685083.80</td>
</tr>
<tr>
<td style="text-align: right;">1.2</td>
<td style="text-align: right;">41500.00</td>
<td style="text-align: right;">99119596.30</td>
</tr>
<tr>
<td style="text-align: right;">1.3</td>
<td style="text-align: right;">41500.00</td>
<td style="text-align: right;">104306933.30</td>
</tr>
<tr>
<td style="text-align: right;">1.4</td>
<td style="text-align: right;">41500.00</td>
<td style="text-align: right;">104668131.90</td>
</tr>
<tr>
<td style="text-align: right;">1.5</td>
<td style="text-align: right;">41500.00</td>
<td style="text-align: right;">111756626.10</td>
</tr>
<tr>
<td style="text-align: right;">1.6</td>
<td style="text-align: right;">41500.00</td>
<td style="text-align: right;">113728832.50</td>
</tr>
<tr>
<td style="text-align: right;">1.7</td>
<td style="text-align: right;">41500.00</td>
<td style="text-align: right;">125070096.00</td>
</tr>
<tr>
<td style="text-align: right;">1.8</td>
<td style="text-align: right;">41500.00</td>
<td style="text-align: right;">128800628.80</td>
</tr>
<tr>
<td style="text-align: right;">1.9</td>
<td style="text-align: right;">41500.00</td>
<td style="text-align: right;">134994078.00</td>
</tr>
<tr>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">41500.00</td>
<td style="text-align: right;">135762858.00</td>
</tr>
<tr>
<td style="text-align: right;">2.1</td>
<td style="text-align: right;">41500.00</td>
<td style="text-align: right;">139198412.30</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align: right;">攻击速度</th>
<th style="text-align: right;">平均攻击</th>
<th style="text-align: right;">伤害</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: right;">1.43</td>
<td style="text-align: right;">41500.00</td>
<td style="text-align: right;">112105095.30</td>
</tr>
<tr>
<td style="text-align: right;">1.43</td>
<td style="text-align: right;">42500.00</td>
<td style="text-align: right;">119529687.60</td>
</tr>
<tr>
<td style="text-align: right;">1.43</td>
<td style="text-align: right;">42000.00</td>
<td style="text-align: right;">115288609.70</td>
</tr>
<tr>
<td style="text-align: right;">1.43</td>
<td style="text-align: right;">43000.00</td>
<td style="text-align: right;">117067425.50</td>
</tr>
<tr>
<td style="text-align: right;">1.43</td>
<td style="text-align: right;">43500.00</td>
<td style="text-align: right;">119500698.70</td>
</tr>
<tr>
<td style="text-align: right;">1.43</td>
<td style="text-align: right;">44000.00</td>
<td style="text-align: right;">120532369.50</td>
</tr>
<tr>
<td style="text-align: right;">1.43</td>
<td style="text-align: right;">44500.00</td>
<td style="text-align: right;">122732070.90</td>
</tr>
<tr>
<td style="text-align: right;">1.43</td>
<td style="text-align: right;">45000.00</td>
<td style="text-align: right;">124011995.90</td>
</tr>
<tr>
<td style="text-align: right;">1.43</td>
<td style="text-align: right;">45500.00</td>
<td style="text-align: right;">124775195.60</td>
</tr>
<tr>
<td style="text-align: right;">1.43</td>
<td style="text-align: right;">46000.00</td>
<td style="text-align: right;">124970456.60</td>
</tr>
<tr>
<td style="text-align: right;">1.43</td>
<td style="text-align: right;">46500.00</td>
<td style="text-align: right;">125988347.00</td>
</tr>
<tr>
<td style="text-align: right;">1.43</td>
<td style="text-align: right;">47000.00</td>
<td style="text-align: right;">128916024.20</td>
</tr>
<tr>
<td style="text-align: right;">1.43</td>
<td style="text-align: right;">47500.00</td>
<td style="text-align: right;">130360538.60</td>
</tr>
<tr>
<td style="text-align: right;">1.43</td>
<td style="text-align: right;">48000.00</td>
<td style="text-align: right;">129292339.40</td>
</tr>
<tr>
<td style="text-align: right;">1.43</td>
<td style="text-align: right;">48500.00</td>
<td style="text-align: right;">134534381.70</td>
</tr>
<tr>
<td style="text-align: right;">1.43</td>
<td style="text-align: right;">49000.00</td>
<td style="text-align: right;">131481400.80</td>
</tr>
<tr>
<td style="text-align: right;">1.43</td>
<td style="text-align: right;">49500.00</td>
<td style="text-align: right;">133900051.80</td>
</tr>
<tr>
<td style="text-align: right;">1.43</td>
<td style="text-align: right;">50000.00</td>
<td style="text-align: right;">136946745.30</td>
</tr>
<tr>
<td style="text-align: right;">1.43</td>
<td style="text-align: right;">50500.00</td>
<td style="text-align: right;">135888128.50</td>
</tr>
<tr>
<td style="text-align: right;">1.43</td>
<td style="text-align: right;">51000.00</td>
<td style="text-align: right;">138236342.40</td>
</tr>
<tr>
<td style="text-align: right;">1.43</td>
<td style="text-align: right;">51500.00</td>
<td style="text-align: right;">140066624.50</td>
</tr>
</tbody>
</table>
<p>接下来我们进一步研究攻速和平均攻击的等效关系，把攻速和伤害导入<code>Excel</code>,可以得出拟合公式</p>
<p><img src="images/tspvedk/gssh.png" alt="Gssh"></p>
<pre><code>y=50,000,000x+40,000,000
</code></pre>
<p>把平均攻击和伤害导入Excel,同样得到拟合公式</p>
<pre><code> y=3055.2x+10,000,000
</code></pre>
<p>最后将得到的数据导入<code>Origin</code>,就可以得到全技能<code>47</code>级下平均攻击、攻速与每秒伤害等效图</p>
<p><img src="images/tspvedk/dxt.png" alt="Dxt"></p>
<p>通过这图可以直观看出，平均攻击，攻速，平均秒伤的关系</p>
<h2 id="伤害计算器">伤害计算器</h2>
<p>最后留个伤害计算器给大家，可以进一步验证</p>
<p><img src="images/tspvedk/dhk.jpg" alt="Dhk"></p>
<ul>
<li>
<div class="embeddedvideo"><iframe src="https://zztss.github.io/qnt.github.io/dkpve.html" frameborder="0" allowfullscreen="true"></iframe></div>
</li>
</ul>
</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/zztss/MyDoc/blob/main/qnm/docfx_project/articles/探索PVE刀客.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>
        
      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>


    <footer class="border-top">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>